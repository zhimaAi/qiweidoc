"use strict";(self["webpackChunkzmwk_session_archive"]=self["webpackChunkzmwk_session_archive"]||[]).push([[432],{64251:function(e,a,l){l.d(a,{A:function(){return v}});var i=l(56768),t=l(24232),s=l(90144);const n={class:"text-center container",style:{"padding-top":"10px"}},o={class:"message"};var u={__name:"contact-kefu",props:{tip:{type:String,default:"微信扫码咨询"}},setup(e,{expose:a}){const l=(0,s.KR)(!1),u=()=>{l.value=!0};return a({show:u}),(a,s)=>{const u=(0,i.g2)("a-modal");return(0,i.uX)(),(0,i.Wv)(u,{title:"联系客服",width:"408px",open:l.value,"onUpdate:open":s[0]||(s[0]=e=>l.value=e),footer:!1,centered:""},{default:(0,i.k6)((()=>[(0,i.Lk)("div",n,[s[1]||(s[1]=(0,i.Lk)("div",{class:"code-box"},[(0,i.Lk)("img",{src:"https://zmwk.cn/static/image/home/qrcode.jpg?v=20231117"})],-1)),(0,i.Lk)("span",o,(0,t.v_)(e.tip),1)])])),_:1},8,["open"])}}},c=l(71241);const r=(0,c.A)(u,[["__scopeId","data-v-71337b30"]]);var v=r},8292:function(e,a,l){l.d(a,{A:function(){return c}});var i=l(56768);const t={class:"loading-box"};function s(e,a){const l=(0,i.g2)("a-spin");return(0,i.uX)(),(0,i.CE)("div",t,[(0,i.bF)(l)])}var n=l(71241);const o={},u=(0,n.A)(o,[["render",s],["__scopeId","data-v-3d53ffb8"]]);var c=u},15523:function(e,a,l){l.r(a),l.d(a,{default:function(){return N}});var i=l(56768),t=l(24232),s=l(90144),n=l.p+"img/enable.6859d89a.svg",o=l.p+"img/not-enable.ab36a0ee.svg",u=l(60782),c=l(1576),r=l.n(c),v=l(39888),d=l(7315),p=l(79907),k=l(81387),_=l(8292),m=l(59804),b=l(17694),g=l(17875),f=l(64251);const y={class:"info-box"},L={class:"client"},x=["src"],C={class:"client-box"},h={class:"client-box-top"},w={class:"top-title"},X={key:0,class:"version-tag"},E={key:1,class:"top-enable"},W={key:2,class:"top-enable not-status-box"},A={key:3,class:"version-warn"},K={key:0,class:"zm-tip-info mt8"},F={key:0,class:"expired-tag ml4"},R={class:"client-box-midden"},z={class:"client-box-bottom"},q={class:"title"},Q={class:"last-version-tag"},I=["innerHTML"],M={class:"price"},P={class:"banner-box"},T=["onClick"],$=["src"],V={class:"intro"},j={class:"intro-info"},H={class:"detail-list"},O={class:"detail-info-box"};var U={__name:"info",setup(e){const a=(0,u.Pj)(),l=(0,k.lq)(),c=((0,k.rd)(),l.query),U=((0,i.EW)((()=>l.meta.links||[])),(0,s.KR)(null)),B=(0,s.KR)(!1),G=(0,s.KR)(!1),N=(0,s.KR)([v.dK,v.Vx]);(0,i.sV)((()=>{(0,g.EP)({name:c.name})}));const S=(0,i.EW)((()=>{let e=a.getters.getModules||[];if(Array.isArray(e)){r()().unix();return e.map((e=>{e.enable_bool=e.is_enabled,e.is_expired&&(e.enable_bool=!1)})),e}return[]})),D=(0,i.EW)((()=>{let e=S.value.find((e=>e.name===c.name));return e?("string"===typeof e.images&&(e.images=e.images.split(",")),"string"===typeof e.features&&(e.features=e.features.split(/\r?\n/))):e={},e})),J=e=>{let l=e?"启用":"禁用";m.A.confirm({title:`确认${l}该插件`,content:e?`启用后，可到功能插件-${D.title}使用该功能`:"禁用后，功能不可再使用，禁用后可重新启用",okText:"确定",cancelText:"取消",onOk:()=>{const i=b.Ay.loading(`正在${l}`);let t=e?g.XG:g.U9;t({name:c.name}).then((()=>{b.Ay.success("操作完成"),D.value.enable_bool=e,a.dispatch("updateModules")})).finally((()=>{i()}))}})},Y=(0,s.KR)(!1),Z=(0,s.KR)(""),ee=(e,a)=>{Y.value=e,Z.value=a},ae=(e=!1)=>{if(e&&!D.value.is_compatible_main)return m.A.confirm({title:"提示",content:"新版插件不兼容您当前使用的系统版本，请先更新系统！",okText:"去更新",onOk:()=>{window.open("https://github.com/zhimaAi/qiweidoc")}}),!1;G.value=!0,(0,g.E$)({name:D.value.name}).then((l=>{a.dispatch("updateModules"),b.Ay.success(e?"已更新":"已安装")})).finally((()=>{G.value=!1}))},le=()=>{U.value.show()};return(e,a)=>{const l=(0,i.g2)("a-button"),u=(0,i.g2)("a-tooltip"),c=(0,i.g2)("a-popover"),r=(0,i.g2)("a-image");return(0,i.uX)(),(0,i.Wv)(p.A,{title:[{name:"功能插件",route:"/plug/index"},{name:`${D.value.title||""}详情`}]},{default:(0,i.k6)((()=>[(0,i.Lk)("div",y,[B.value?((0,i.uX)(),(0,i.Wv)(_.A,{key:0})):((0,i.uX)(),(0,i.CE)(i.FK,{key:1},[(0,i.Lk)("div",L,[(0,i.Lk)("img",{class:"client-img",src:D.value.icon},null,8,x),(0,i.Lk)("div",C,[(0,i.Lk)("div",h,[(0,i.Lk)("div",w,(0,t.v_)(D.value.title),1),D.value?.local_version?((0,i.uX)(),(0,i.CE)("span",X,"v"+(0,t.v_)(D.value.local_version),1)):(0,i.Q3)("",!0),D.value.is_install&&D.value.enable_bool?((0,i.uX)(),(0,i.CE)("div",E,a[3]||(a[3]=[(0,i.Lk)("img",{class:"enable-img",src:n,alt:""},null,-1),(0,i.Lk)("div",{class:"top-enable-label"},"已启用",-1)]))):((0,i.uX)(),(0,i.CE)("div",W,a[4]||(a[4]=[(0,i.Lk)("img",{class:"enable-img",src:o,alt:""},null,-1),(0,i.Lk)("div",{class:"top-enable-label"},"待启用",-1)]))),D.value.is_install||D.value.is_compatible_main?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",A,a[5]||(a[5]=[(0,i.eW)(" 该插件不兼容您当前使用的系统版本 "),(0,i.Lk)("a",{class:"ml4",href:"https://github.com/zhimaAi/qiweidoc",target:"_blank"},"去更新",-1)])))]),D.value.expire_time>0&&D.value.price_type>1?((0,i.uX)(),(0,i.CE)("div",K,[(0,i.eW)(" 有效期至 "+(0,t.v_)(D.value.expire_date)+" ",1),D.value.is_expired?((0,i.uX)(),(0,i.CE)("span",F,"已到期")):(0,i.Q3)("",!0)])):(0,i.Q3)("",!0),(0,i.Lk)("div",R,(0,t.v_)(D.value.intro),1),(0,i.Lk)("div",z,[D.value.is_install?((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[D.value.enable_bool?((0,i.uX)(),(0,i.Wv)(l,{key:1,onClick:a[1]||(a[1]=e=>J(!1))},{default:(0,i.k6)((()=>a[7]||(a[7]=[(0,i.eW)("禁 用")]))),_:1})):((0,i.uX)(),(0,i.Wv)(u,{key:0,title:D.value.is_expired?"已过期，请购买后启用":null},{default:(0,i.k6)((()=>[(0,i.bF)(l,{disabled:D.value.is_expired,onClick:a[0]||(a[0]=e=>J(!0)),type:"primary"},{default:(0,i.k6)((()=>a[6]||(a[6]=[(0,i.eW)("立即启用 ")]))),_:1},8,["disabled"])])),_:1},8,["title"])),D.value.price_type>1?((0,i.uX)(),(0,i.Wv)(l,{key:2,onClick:le},{default:(0,i.k6)((()=>a[8]||(a[8]=[(0,i.eW)("联系客服")]))),_:1})):(0,i.Q3)("",!0),D.value.is_last_version?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.Wv)(c,{key:3,getPopupContainer:e=>e,placement:"bottom",overlayClassName:"update-desc-popover"},{content:(0,i.k6)((()=>[(0,i.Lk)("div",q,(0,t.v_)(D.value.title),1),(0,i.Lk)("div",Q,(0,t.v_)(D.value.latest_version.version),1),(0,i.Lk)("div",{class:"update-desc",innerHTML:D.value.latest_version.upgrade_description.replace(/\r?\n/g,"<br/>")},null,8,I)])),default:(0,i.k6)((()=>[(0,i.bF)(l,{type:"primary",ghost:"",onClick:a[2]||(a[2]=e=>ae(!0)),loading:G.value},{default:(0,i.k6)((()=>a[9]||(a[9]=[(0,i.eW)("更新")]))),_:1},8,["loading"])])),_:1},8,["getPopupContainer"]))],64)):((0,i.uX)(),(0,i.CE)(i.FK,{key:1},[(0,i.Lk)("div",M,(0,t.v_)(D.value.price_info),1),(0,i.bF)(l,{onClick:ae,loading:G.value},{default:(0,i.k6)((()=>[(0,i.eW)((0,t.v_)(D.value.price_type>1?"安装试用7天":"安 装"),1)])),_:1},8,["loading"])],64))])])]),(0,i.Lk)("div",P,[(0,i.bF)((0,s.R1)(d.RC),{loop:!0,modules:N.value,autoplay:{delay:3e3},slidesPerView:2,style:{"--swiper-navigation-size":"30px","--swiper-pagination-size":"30px"},pagination:{clickable:!0},navigation:!0,spaceBetween:16,class:"info-swiper-container"},{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(D.value.images,((e,a)=>((0,i.uX)(),(0,i.Wv)((0,s.R1)(d.qr),{key:a},{default:(0,i.k6)((()=>[(0,i.Lk)("div",{class:"img-preview",onClick:()=>ee(!0,e)},"预览",8,T),(0,i.Lk)("img",{src:e,class:"swiper-slide-img"},null,8,$),(0,i.bF)(r,{style:{display:"none"},preview:{visible:Y.value,onVisibleChange:ee},src:Z.value,class:"swiper-slide-img"},null,8,["preview","src"])])),_:2},1024)))),128))])),_:1},8,["modules"])]),(0,i.Lk)("div",V,[a[10]||(a[10]=(0,i.Lk)("div",{class:"intro-title"},"功能简介",-1)),(0,i.Lk)("div",j,(0,t.v_)(D.value.description),1)]),(0,i.Lk)("div",H,[a[11]||(a[11]=(0,i.Lk)("div",{class:"detail-title"},"功能清单",-1)),(0,i.Lk)("div",O,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(D.value.features,((e,a)=>((0,i.uX)(),(0,i.CE)("div",{class:"detail-info-item",key:a},(0,t.v_)(e),1)))),128))])])],64))]),(0,i.bF)(f.A,{ref_key:"kefuRef",ref:U},null,512)])),_:1},8,["title"])}}},B=l(71241);const G=(0,B.A)(U,[["__scopeId","data-v-03a8e9ea"]]);var N=G}}]);