"use strict";(self["webpackChunkzmwk_session_archive"]=self["webpackChunkzmwk_session_archive"]||[]).push([[956],{64251:function(e,l,t){t.d(l,{A:function(){return u}});var n=t(56768),i=t(24232),a=t(90144);const s={class:"text-center container",style:{"padding-top":"10px"}},o={class:"message"};var c={__name:"contact-kefu",props:{tip:{type:String,default:"微信扫码咨询"}},setup(e,{expose:l}){const t=(0,a.KR)(!1),c=()=>{t.value=!0};return l({show:c}),(l,a)=>{const c=(0,n.g2)("a-modal");return(0,n.uX)(),(0,n.Wv)(c,{title:"联系客服",width:"408px",open:t.value,"onUpdate:open":a[0]||(a[0]=e=>t.value=e),footer:!1,centered:""},{default:(0,n.k6)((()=>[(0,n.Lk)("div",s,[a[1]||(a[1]=(0,n.Lk)("div",{class:"code-box"},[(0,n.Lk)("img",{src:"https://zmwk.cn/static/image/home/qrcode.jpg?v=20231117"})],-1)),(0,n.Lk)("span",o,(0,i.v_)(e.tip),1)])])),_:1},8,["open"])}}},d=t(71241);const r=(0,d.A)(c,[["__scopeId","data-v-71337b30"]]);var u=r},43956:function(e,l,t){t.r(l),t.d(l,{default:function(){return $}});t(44114);var n=t(56768),i=t(24232),a=t(90144),s=t(60782),o=t(81387),c=t(1576),d=t.n(c),r=t(79907),u=t(59804),p=t(17694),_=t(43448),k=t(17875),v=t(64251);const m={class:"zm-main-content func-plug-box"},b={class:"plug-box"},g={class:"plug-item-top"},f=["src"],h={class:"plug-item-midden"},y={class:"midden-title zm-flex-center"},C={key:0,class:"version-tag ml4"},L=["onClick"],x={key:0,class:"zm-tip-info mt4"},w={key:1,class:"zm-tip-info mt4"},A={key:0,class:"expired-tag ml4"},X={class:"zm-line-clamp2 plugin-desc mt8"},W={class:"plug-item-bottom"},E={key:0,class:"version-warn"},z={class:"zm-flex-between mt8"},F={class:"price"},Q={class:"btn-box"},K={class:"title"},M={class:"last-version-tag"},R=["innerHTML"];var T={__name:"index",setup(e){const l=(0,s.Pj)(),t=(0,o.rd)(),c=(0,a.KR)(null),T=((0,a.KR)(!1),(0,n.EW)((()=>l.getters.getModules))),q=(0,n.EW)((()=>{let e=T.value||[];if(Array.isArray(e)){d()().unix();return e.map((e=>{e.installing=!1,e.enable_bool=e.is_enabled,e.is_expired&&(e.enable_bool=!1)})),e}return[]})),U=e=>{let t=e.enable_bool?"启用":"禁用";const n=()=>{e.enable_bool=!e.enable_bool};u.A.confirm({title:`确认${t}该插件`,content:e.enable_bool?`启用后，可到功能插件-${e.title}使用该功能`:"禁用后，功能不可再使用，禁用后可重新启用",okText:"确定",cancelText:"取消",onOk:()=>{const i=p.Ay.loading(`正在${t}`);let a=e.enable_bool?k.XG:k.U9;a({name:e.name}).then((()=>{p.Ay.success("操作完成"),l.dispatch("updateModules")})).finally((()=>{i()})).catch((()=>n()))},onCancel:n})},$=e=>{t.push({path:"/plug/info",query:{name:e.name}})},I=(e,t=!1)=>{if(t&&!e.is_compatible_main)return u.A.confirm({title:"提示",content:"新版插件不兼容您当前使用的系统版本，请先更新系统！",okText:"去更新",onOk:()=>{window.open("https://github.com/zhimaAi/qiweidoc")}}),!1;e.installing=!0,(0,k.E$)({name:e.name}).then((e=>{l.dispatch("updateModules"),p.Ay.success(t?"已更新":"已安装")})).finally((()=>{e.installing=!1}))},P=e=>{c.value.show()};return(e,l)=>{const t=(0,n.g2)("a-alert"),s=(0,n.g2)("a-switch"),o=(0,n.g2)("a-tooltip"),d=(0,n.g2)("a-button"),u=(0,n.g2)("a-popover");return(0,n.uX)(),(0,n.Wv)(r.A,{title:"功能插件"},{default:(0,n.k6)((()=>[(0,n.Lk)("div",m,[(0,n.bF)(t,{"show-icon":"",message:"插件启用后,即可到功能中心去使用新的功能,若不需要使用,禁用即可"}),(0,n.Lk)("div",b,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(q.value,((e,t)=>((0,n.uX)(),(0,n.CE)(n.FK,null,[e.system_enabled||e.is_install?((0,n.uX)(),(0,n.CE)("div",{class:"plug-item",key:t},[(0,n.Lk)("div",g,[(0,n.Lk)("img",{class:"customer-label",src:e.icon},null,8,f),(0,n.bF)(o,{title:e.is_install?e.is_expired?"需购买后才可启用":null:"需安装后才可启用"},{default:(0,n.k6)((()=>[(0,n.bF)(s,{checked:e.enable_bool,"onUpdate:checked":l=>e.enable_bool=l,disabled:!e.is_install||e.is_expired,onChange:l=>U(e),"checked-children":"已启用","un-checked-children":"已禁用"},null,8,["checked","onUpdate:checked","disabled","onChange"])])),_:2},1032,["title"])]),(0,n.Lk)("div",h,[(0,n.Lk)("div",y,[(0,n.Lk)("span",null,(0,i.v_)(e.title),1),e?.local_version?((0,n.uX)(),(0,n.CE)("span",C,"v"+(0,i.v_)(e?.local_version),1)):(0,n.Q3)("",!0)]),(0,n.Lk)("div",{class:"midden-info",onClick:l=>$(e)},[l[0]||(l[0]=(0,n.eW)(" 详情 ")),(0,n.bF)((0,a.R1)(_.A),{class:"f12 ml4"})],8,L)]),e.is_install?e.price_type>1?((0,n.uX)(),(0,n.CE)("div",w,[(0,n.eW)(" 有效期至 "+(0,i.v_)(e.expire_date)+" ",1),e.is_expired?((0,n.uX)(),(0,n.CE)("span",A,"已到期")):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",x,"未安装此应用")),(0,n.Lk)("div",X,[(0,n.bF)(o,{title:e?.intro?.length>40?e.intro:null},{default:(0,n.k6)((()=>[(0,n.eW)((0,i.v_)(e.intro),1)])),_:2},1032,["title"])]),(0,n.Lk)("div",W,[e.is_install||e.is_compatible_main?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",E,l[1]||(l[1]=[(0,n.eW)(" 该插件不兼容您当前使用的系统版本 "),(0,n.Lk)("a",{class:"ml4",href:"https://github.com/zhimaAi/qiweidoc",target:"_blank"},"去更新",-1)]))),(0,n.Lk)("div",z,[(0,n.Lk)("div",F,(0,i.v_)(e.price_info),1),(0,n.Lk)("div",Q,[e.is_install?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[e.price_type>1?((0,n.uX)(),(0,n.Wv)(d,{key:0,onClick:l=>P(e)},{default:(0,n.k6)((()=>l[2]||(l[2]=[(0,n.eW)("联系客服")]))),_:2},1032,["onClick"])):(0,n.Q3)("",!0),e.is_last_version?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.Wv)(u,{key:1,getPopupContainer:e=>e,placement:"bottom",overlayClassName:"update-desc-popover"},{content:(0,n.k6)((()=>[(0,n.Lk)("div",K,(0,i.v_)(e.title),1),(0,n.Lk)("div",M,(0,i.v_)(e.latest_version.version),1),(0,n.Lk)("div",{class:"update-desc",innerHTML:e.latest_version.upgrade_description.replace(/\r?\n/g,"<br/>")},null,8,R)])),default:(0,n.k6)((()=>[(0,n.bF)(d,{type:"primary",ghost:"",class:"ml8",onClick:l=>I(e,!0),loading:e.installing},{default:(0,n.k6)((()=>l[3]||(l[3]=[(0,n.eW)("更新")]))),_:2},1032,["onClick","loading"])])),_:2},1032,["getPopupContainer"]))],64)):((0,n.uX)(),(0,n.Wv)(d,{key:1,onClick:l=>I(e),loading:e.installing,disabled:!e.is_compatible_main},{default:(0,n.k6)((()=>[(0,n.eW)((0,i.v_)(e.price_type>1?"安装试用7天":"安 装"),1)])),_:2},1032,["onClick","loading","disabled"]))])])])])):(0,n.Q3)("",!0)],64)))),256))])]),(0,n.bF)(v.A,{ref_key:"kefuRef",ref:c},null,512)])),_:1})}}},q=t(71241);const U=(0,q.A)(T,[["__scopeId","data-v-58e11c98"]]);var $=U}}]);