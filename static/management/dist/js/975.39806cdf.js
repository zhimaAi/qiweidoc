"use strict";(self["webpackChunkzmwk_session_archive"]=self["webpackChunkzmwk_session_archive"]||[]).push([[975],{839:function(e,a,t){t.r(a),t.d(a,{default:function(){return K}});var s=t(6768),l=t(144),n=t(4232),i=t(5130),o=t(1387),r=t(1576),d=t.n(r),u=t(7403),c=t(6252),k=t(1745);const p={class:"zm-main-content"},v={class:"header"},m={class:"left"},y={class:"item zm-user-info"},_=["src"],h={class:"name"},g={class:"item"},w={class:"item"},f={class:"right filter-box"},b={class:"filter-item ml16"},L={class:"table-box"},C={key:0},x={key:1,class:"reply-status"},R={key:2,class:"reply-status no"},S=["onClick"],z=["onClick"];var X={__name:"detail",setup(e){const a=t(7767),r=(0,o.lq)(),X=(0,l.KR)(!1),I=(0,l.KR)({name:"",avatar:""}),W=(0,l.KR)(1),K=(0,l.KR)([]),D=[{title:"群聊名称",dataIndex:"room_name",width:300},{title:"群主",dataIndex:"stf_name",width:120},{title:"员工发送消息数",dataIndex:"staff_msg_no"},{title:"客户发送消息数",dataIndex:"cst_msg_no"},{title:"回复状态",dataIndex:"reply_status",width:120,scopedSlots:{customRender:"replyStatus"}},{title:"发起人",dataIndex:"promoter_type_text",width:100},{title:"操作",dataIndex:"id",width:120,scopedSlots:{customRender:"operate"}}],F=(0,l.Kh)({current:1,page:1,pageSize:10,total:0,pageSizeOptions:["10","20","50","100"],showQuickJumper:!0,showSizeChanger:!0}),q=(0,l.Kh)({keyword:""});function A(){return d()(r.query.filterDate).format("YYYY-MM-DD")}function Y(){F.current=1,E()}function E(){X.value=!0;let e={page:F.current,size:F.pageSize,open_userid:r.query.openUserid,date_no:r.query.filterDate,is_active:1};q.keyword=q.keyword.trim(),q.keyword&&(e.keyword=q.keyword)}function U(e){F=Object.assign(F,e),E()}return(e,t)=>{const o=(0,s.g2)("a-input"),r=(0,s.g2)("a-tab-pane"),d=(0,s.g2)("a-tabs"),E=(0,s.g2)("a-table");return(0,s.uX)(),(0,s.Wv)(k.A,{title:[{name:"群聊统计",route:"/sessionStatistics/group"},{name:"员工群聊明细"}]},{default:(0,s.k6)((()=>[(0,s.Lk)("div",p,[(0,s.Lk)("div",v,[(0,s.Lk)("div",m,[(0,s.Lk)("div",y,[(0,s.Lk)("img",{class:"avatar",style:{width:"24px",height:"24px"},src:I.value.avatar||(0,l.R1)(a)},null,8,_),(0,s.Lk)("span",h,(0,n.v_)(I.value.name),1)]),t[2]||(t[2]=(0,s.Lk)("div",{class:"hr"},null,-1)),(0,s.Lk)("div",g,"群聊总数："+(0,n.v_)(F.total),1),t[3]||(t[3]=(0,s.Lk)("div",{class:"hr"},null,-1)),(0,s.Lk)("div",w,"统计时间："+(0,n.v_)(A()),1)]),(0,s.Lk)("div",f,[(0,s.Lk)("div",b,[(0,s.bF)(o,{modelValue:q.keyword,"onUpdate:modelValue":t[0]||(t[0]=e=>q.keyword=e),allowClear:"",placeholder:"请输入群聊名称进行搜索",onChange:Y,style:{width:"220px"}},null,8,["modelValue"])])])]),(0,s.bF)(d,{active:W.value,"onUpdate:active":t[1]||(t[1]=e=>W.value=e)},{default:(0,s.k6)((()=>[((0,s.uX)(),(0,s.Wv)(r,{key:1,tab:"全部群聊"})),((0,s.uX)(),(0,s.Wv)(r,{key:2,tab:"今日新增群聊"})),((0,s.uX)(),(0,s.Wv)(r,{key:3,tab:"活跃群聊"})),((0,s.uX)(),(0,s.Wv)(r,{key:4,tab:"已回复群聊"})),((0,s.uX)(),(0,s.Wv)(r,{key:4,tab:"未回复群聊"}))])),_:1},8,["active"]),(0,s.Lk)("div",L,[(0,s.bF)(E,{loading:X.value,"data-source":K.value,columns:D,pagination:F,onChange:U},{replyRate:(0,s.k6)((()=>[(0,s.eW)((0,n.v_)(e.msgReplySec)+"分钟回复率 ",1)])),replyStatus:(0,s.k6)(((e,a)=>[-1==a.reply_status?((0,s.uX)(),(0,s.CE)("span",C,"--")):1==a.reply_status?((0,s.uX)(),(0,s.CE)("div",x,[(0,s.bF)((0,l.R1)(u.A)),t[4]||(t[4]=(0,s.Lk)("span",null,"已回复",-1))])):((0,s.uX)(),(0,s.CE)("div",R,[(0,s.bF)((0,l.R1)(c.A)),t[5]||(t[5]=(0,s.Lk)("span",null,"未回复",-1))]))])),operate:(0,s.k6)(((a,t)=>[(0,s.Lk)("a",{onClick:a=>e.linkChat(t)},"明细",8,S),(0,s.Lk)("a",{class:"ml16 group_scan_code",onClick:(0,i.D$)((a=>{e.showGroupCode(t,a)}),["stop"])},"进群",8,z)])),_:1},8,["loading","data-source","pagination"])])])])),_:1})}}},I=t(1241);const W=(0,I.A)(X,[["__scopeId","data-v-5c7f0136"]]);var K=W}}]);
//# sourceMappingURL=975.39806cdf.js.map