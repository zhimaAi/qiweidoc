{"version":3,"file":"js/113.31e21f7a.js","mappings":"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","sources":["webpack://zmwk_session_archive/./node_modules/@ant-design/icons-svg/es/asn/RedoOutlined.js","webpack://zmwk_session_archive/./node_modules/@ant-design/icons-vue/es/icons/RedoOutlined.js","webpack://zmwk_session_archive/./src/api/company.js","webpack://zmwk_session_archive/./src/views/customerManagement/index.vue","webpack://zmwk_session_archive/./src/views/customerManagement/index.vue?14f2"],"sourcesContent":["// This icon file is generated automatically.\nvar RedoOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z\" } }] }, \"name\": \"redo\", \"theme\": \"outlined\" };\nexport default RedoOutlined;\n","import { createVNode as _createVNode } from \"vue\";\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport RedoOutlinedSvg from \"@ant-design/icons-svg/es/asn/RedoOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar RedoOutlined = function RedoOutlined(props, context) {\n  var p = _objectSpread({}, props, context.attrs);\n\n  return _createVNode(AntdIcon, _objectSpread({}, p, {\n    \"icon\": RedoOutlinedSvg\n  }), null);\n};\n\nRedoOutlined.displayName = 'RedoOutlined';\nRedoOutlined.inheritAttrs = false;\nexport default RedoOutlined;","import request from \"@/api/request\";\n\nexport const syncDepartmentStaff = () => {\n    return request.get('/api/department/sync')\n}\n\nexport const departmentList = () => {\n    return request.get('/api/department/list')\n}\n\nexport const staffList = (data) => {\n    return request.get('/api/staff/list', {params: data})\n}\n\nexport const groupsList = (data) => {\n    return request.get('/api/groups/list', {params: data})\n}\n\nexport const groupsSync = (data) => {\n    return request.get('/api/groups/sync', {params: data})\n}\n\nexport const customersList = (data) => {\n    return request.get('/api/customers/list', {params: data})\n}\n\nexport const customersSync = (data) => {\n    return request.get('/api/customers/sync', {params: data})\n}\n","<template>\n    <MainLayout title=\"客户列表\">\n        <div class=\"filter-box\">\n            <div class=\"filter-item\">\n                <label>搜索客户：</label>\n                <div class=\"mr10\">\n                    <a-input\n                        style=\"width: 100%;\"\n                        placeholder=\"请输入客户昵称搜索\"\n                        allowClear\n                        @pressEnter=\"initSearch\"\n                        v-model:value=\"filterData.keyword\"\n                    ></a-input>\n                </div>\n            </div>\n            <div class=\"filter-item\"></div>\n            <div class=\"filter-item\" style=\"justify-content: right\">\n                <a-button @click=\"initSearch\" type=\"primary\">搜索</a-button>\n                <a-button @click=\"resetSearch\" class=\"ml8\">重置</a-button>\n            </div>\n        </div>\n        <div class=\"container\">\n            <div class=\"left-block\">\n                <div class=\"header-box mt12\">\n                    <div class=\"fl-fc\">\n                        <span class=\"wz\">\n                            <a-radio-group\n                                v-model:value=\"dataShowType\"\n                                button-style=\"solid\"\n                                style=\"margin-right: 4px;\"\n                                @change=\"dataTypeChange\"\n                            >\n                                <a-radio-button value=\"a\" :disabled=\"has_search_flag\">\n                                近七日\n                                </a-radio-button>\n                                <a-radio-button value=\"b\" style=\"width: 74px; text-align: center;\">\n                                全部\n                                </a-radio-button>\n                            </a-radio-group>\n                            {{!has_search_flag && dataShowType == 'a' ? '共新增' : '共'}}{{ totals || 0 }}个客户\n                        </span>\n                    </div>\n\n                    <div\n                        class=\"list margin-bottom-16 self-header-two fx-ac\"\n                        style=\"justify-content: space-between; margin-top: 12px;\"\n                    >\n                        <div class=\"fx-ac update-box\">\n                            <div>\n                                <span class=\"lefts_sizes\" v-if=\"last_sync_time\">\n                                上次更新时间：{{ timeContrast(last_sync_time) }}\n                                </span>\n                            </div>\n                            <a-button\n                                :loading=\"updateLoading\"\n                                class=\"lefts btn-update\"\n                                @click=\"Update\"\n                                >\n                                <template #icon><RedoOutlined class=\"update-icon\" /></template>\n                                {{ updateLoading ? \"更新中\" : \"更新数据\" }}\n                            </a-button>\n                        </div>\n                    </div>\n\n                </div>\n                <a-table\n                    class=\"mt16\"\n                    :loading=\"loading\"\n                    :data-source=\"list\"\n                    :columns=\"columns\"\n                    :pagination=\"pagination\"\n                    @change=\"tableChange\"\n                >\n                    <template #bodyCell=\"{ column, text, record }\">\n                        <template v-if=\"'external_name' === column.dataIndex\">\n                            <a-tooltip overlayClassName=\"user-info-tooltip\">\n                                <template #title>\n                                    <div>客户备注：{{ record.staff_remark }}</div>\n                                    <!-- <div>unionID：{{ record.unionid || \"--\" }}</div> -->\n                                    <div>外部联系人ID：{{ record.external_userid }}</div>\n                                </template>\n                                <div class=\"qunfa\" style=\"display: flex; align-items: center\">\n                                    <img v-if=\"record.avatar\"\n                                        :src=\"record.avatar\"\n                                        style=\"width: 32px; height: 32px; margin-right: 8px\"\n                                        alt=\"\"/>\n                                    <img v-else src=\"../../assets/image/taglogo.svg\" alt=\"\"/>\n                                    <div class=\"qunfa-box\">\n                                        <div>\n                                            <span class=\"qunfa_name\">\n                                                {{ textLimit(record.external_name, 7) }}\n                                            </span>\n                                            <span style=\"color: #faad14\">\n                                                {{ record.corp_name == \"\" ? \"@微信\" : \"@\" + record.corp_name }}\n                                            </span>\n                                        </div>\n                                    </div>\n                                </div>\n                            </a-tooltip>\n                        </template>\n                        <template v-if=\"'add_status' === column.dataIndex\">\n                            <a-tag :color=\"record.add_status == '0' ? 'volcano' : 'green'\">\n                                {{ record.add_status == 0 ? \"已流失\" : \"未流失\" }}\n                            </a-tag>\n                        </template>\n                        <template v-if=\"'staff_name_slot' === column.dataIndex\">\n                            <span class=\"wk-black-65-text\">{{ record.staff_user_name }}</span>\n                        </template>\n\n                        <template v-if=\"'add_time' === column.dataIndex\">\n                            <span class=\"wk-black-65-text\">{{ record.add_time }}</span>\n                        </template>\n\n                        <template v-if=\"'source' === column.dataIndex\">\n                            {{ record.add_way }}\n                            {{ record.state && record.state.name ? \"【\" + record.state.name + \"】\" : \"\" }}\n                        </template>\n                        <template v-if=\"'tag_data' === column.dataIndex\">\n                            <span class=\"tages_wid\">\n                                <template v-if=\"record.tag_data.length > 1\">\n                                    <a-popover  :overlayStyle=\"{ zIndex: 998 }\">\n                                        <template #content>\n                                            <div style=\"width: 200px\">\n                                            <a-tag\n                                                style=\"white-space: pre-wrap; margin-bottom: 5px;\"\n                                                color=\"blue\"\n                                                v-for=\"item in record.tag_data.slice(\n                                                1,\n                                                record.tag_data.length\n                                                )\"\n                                                :key=\"item.tag_id\"\n                                                >{{ item.tag_name }}</a-tag\n                                            >\n                                            </div>\n                                        </template>\n                                        <div class=\"nowrap flex\">\n                                            <a-tag color=\"blue\" style=\"margin-bottom:0;\">{{\n                                            record.tag_data[0] && record.tag_data[0].tag_name.length > 10 ? record.tag_data[0].tag_name.substring(0, 10) + '...' : record.tag_data[0].tag_name\n                                            }}</a-tag>\n                                            <div class=\"nowrap\" style=\"color: #1890ff;width:30px;\">\n                                            +{{ record.tag_data.length - 1 }}\n                                            </div>\n                                        </div>\n                                    </a-popover>\n                                </template>\n                                <template v-else-if=\"record.tag_data.length == 1\">\n                                    <a-tag\n                                    color=\"blue\"\n                                    style=\"margin-bottom:0;\"\n                                    v-if=\"record.tag_data.length\"\n                                    >{{ record.tag_data[0] && record.tag_data[0].tag_name.length > 10 ? record.tag_data[0].tag_name.substring(0, 10) + '...' : record.tag_data[0].tag_name }}</a-tag\n                                    >\n                                </template>\n                                <template v-else>\n                                    <div>\n                                        -\n                                    </div>\n                                </template>\n                            </span>\n                        </template>\n                    </template>\n                </a-table>\n            </div>\n        </div>\n    </MainLayout>\n</template>\n\n<script setup>\nimport {onMounted, ref, reactive} from 'vue';\nimport {RedoOutlined} from '@ant-design/icons-vue';\nimport MainLayout from \"@/components/mainLayout.vue\";\nimport { customersList, customersSync } from \"@/api/company\";\nimport { formatDate } from \"@/utils/tools.js\"\nimport { message } from 'ant-design-vue';\nimport dayjs from 'dayjs';\n\nconst searchForm = reactive({\n    size: 20,\n    page: 1,\n    name: \"\",\n    member_name: \"\",\n    tagNames: [],\n    remark_yes: -1,\n    sort: 1,\n    normal_status: '',\n})\n\nconst filterTagParams = reactive({\n    type: 0,\n    contain_tag: [],\n    contain_tag_keys: [],\n    contain_tag_map: [],\n    exclude_tag: [],\n    exclude_tag_map: []\n})\n\nconst columns = [\n    {\n        dataIndex: \"external_name\",\n        key: \"external_name\",\n        title: \"客户昵称\",\n        scopedSlots: {customRender: \"external_name\"},\n        fixed: \"left\"\n    },\n    {\n        title: \"流失状态\",\n        dataIndex: \"add_status\",\n        key: \"add_status\",\n        scopedSlots: {customRender: \"add_status\"}\n    },\n    {\n        title: \"所属员工\",\n        dataIndex: \"staff_user_name\",\n        key: \"staff_user_name\",\n        width: 120,\n        scopedSlots: {customRender: \"staff_name_slot\"}\n    },\n    {\n        title: \"添加时间\",\n        dataIndex: \"add_time\",\n        key: \"add_time\"\n    },\n    {\n        title: \"客户标签\",\n        key: \"tag_data\",\n        dataIndex: \"tag_data\",\n        scopedSlots: {customRender: \"tag_data\"}\n    }\n]\n\nconst last_sync_time = ref('') // 更新数据\nconst dataShowType = ref('b')\nconst createGroupDates = ref('')\nconst loading = ref(false)\nconst list = ref([])\nconst pagination = reactive({\n    total: 0,\n    current: 1,\n    pageSize: 10,\n    showSizeChanger: true,\n    pageSizeOptions: ['10', '20', '50', '100'],\n})\nconst filterData = reactive({\n    keyword: '',\n})\n\nconst totals = ref(0)\n// const unique_totals = ref(0) // 去重客户数\nconst updateLoading = ref(false)\nconst has_search_flag = ref(false)\nconst staff_ids = ref([])\n\nfunction timeContrast(time) {\n    // 当前时间\n    let new_time = parseInt(new Date().getTime() / 1000) + \"\";\n\n    let result = \"\";\n    let diffTime = \"\";\n    // 同步时间差\n    // diffTime = new_time * 1 - moment(time).format(\"X\");\n    diffTime = new_time * 1 - +time;\n    if (diffTime <= 60) {\n    result = diffTime + \"秒前 \";\n    } else if (diffTime > 60 && diffTime <= 3660) {\n    result = parseInt(diffTime / 60) + \"分钟前 \";\n    } else if (diffTime > 3660 && diffTime <= 86400) {\n    result = parseInt(diffTime / 3600) + \"小时前 \";\n    } else if (diffTime > 86400) {\n    result = parseInt(diffTime / 86400) + \"天前 \";\n    }\n    return result\n}\n\nconst dataTypeChange = () => {\n    search()\n}\n\nconst textLimit = (text, max) => {\n    if (!text) {\n        return  \"\"\n    }\n    return text.length > max ? text.substring(0, max) + \"..\" : text\n}\n\nconst refresh = ref(0)\n\nconst Update = () => {\n    //更新数据\n    if (refresh.value == 0) {\n    refresh.value = 1;\n    updateLoading.value = true;\n    customersSync({}).then((res) => {\n        refresh.value = 0;\n        updateLoading.value = false;\n        message.success('更新成功')\n    });\n    }\n}\n\nonMounted(() => {\n    loadData()\n})\n\nconst lastGetTime = ref(0)\n\nconst initSearch = () => {\n    lastGetTime.value = new Date().getTime() / 1000;\n    searchForm.page = 1;\n    search();\n}\n\nconst resetSearch = () => {\n    filterTagParams.type = 0\n    filterTagParams.contain_tag = []\n    filterTagParams.contain_tag_keys = []\n    filterTagParams.contain_tag_map = []\n    filterTagParams.exclude_tag = []\n    filterTagParams.exclude_tag_map = []\n    staff_ids.value = [];\n    createGroupDates.value = \"\";\n    filterData.keyword = ''\n    initSearch();\n}\n\nconst search = () => {\n    list.value = []\n    pagination.total = 1\n    pagination.current = 1\n    loadData()\n}\n\nconst loadData = () => {\n    loading.value = true\n    let params = {\n        page: pagination.current,\n        size: pagination.pageSize\n    }\n    filterData.keyword = filterData.keyword.trim()\n    if (filterData.keyword) {\n        params.keyword = filterData.keyword\n    }\n    if (dataShowType.value === 'a') {\n        params.add_time = dayjs().subtract(6, 'day').format('YYYY-MM-DD HH:mm:ss')\n    }\n    customersList(params).then(res => {\n        list.value = res.data.items || []\n        last_sync_time.value = res.data.last_sync_time || ''\n        pagination.total = Number(res.data.total)\n        totals.value = res.data.total\n    }).finally(() => {\n        loading.value = false\n    })\n}\n\nconst tableChange = p => {\n    pagination.current = p.current\n    pagination.pageSize = p.pageSize\n    loadData()\n}\n</script>\n\n<style scoped lang=\"less\">\n.container {\n    display: flex;\n    margin: 12px;\n\n    > div {\n        background: #FFF;\n        border-radius: 2px;\n        // overflow-y: scroll;\n        // height: calc(100vh - 250px);\n    }\n\n    .left-block {\n        padding: 12px;\n        flex: 1;\n    }\n\n    .right-block {\n        flex-shrink: 0;\n        width: 16vw;\n        max-width: 300px;\n\n        :deep(.ant-tabs) {\n            .ant-tabs-tab {\n                margin: 0 12px;\n            }\n\n            .ant-tabs-content {\n                padding: 0 12px;\n            }\n        }\n    }\n}\n\n.filter-box {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  padding: 16px 24px 0;\n  background-color: white;\n  margin: 12px;\n\n  .mr10{\n    margin-right: 10px;\n  }\n  .filter-item {\n    margin-bottom: 16px;\n    display: flex;\n    align-items: center;\n    width: 25%;\n    flex-shrink: 0;\n\n    > div {\n      width: calc(100% - 70px);\n    }\n\n    label {\n      white-space: nowrap;\n      display: inline-block;\n      width: 70px;\n      flex-shrink: 0;\n      text-align: right;\n    }\n\n    .name-box {\n        display: flex;\n    }\n  }\n}\n\n.header-box {\n    display: flex;\n    flex-direction: column;\n    align-items: self-start;\n    gap: 8px;\n}\n\n.scan-code-group {\n    color: #2475fc;\n    cursor: pointer;\n}\n\n.margin-left-15 {\n    margin-left: 15px;\n}\n\n.list {\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    font-size: 16px;\n    font-family: PingFangSC-Regular, PingFang SC;\n    font-weight: 400;\n    color: #000000;\n    line-height: 24px;\n\n    .wz {\n      font-size: 14px;\n      color: rgba(0, 0, 0, 0.65);\n    }\n    .fl-fc{\n      display: flex;\n      flex-direction: column;\n    }\n\n    .wz-color {\n      color: rgba(0, 0, 0, 0.45);\n    }\n\n    .mb10 {\n      margin-bottom: 10px;\n    }\n    .mr10 {\n      margin-right: 10px;\n    }\n    .lefts {\n      margin-left: 10px;\n    }\n\n    .lefts_size {\n      transform: rotate(-100deg);\n      color: #595959;\n    }\n\n    .lefts_sizes {\n      margin-left: 5px;\n      cursor: auto;\n    }\n    .lefts_check{\n      margin-left:16px;\n      .ant-checkbox+span{\n        padding-right:0;\n      }\n    }\n\n    span {\n      cursor: pointer;\n      font-size: 13px;\n      font-family: PingFangSC-Regular, PingFang SC;\n      font-weight: 400;\n      color: rgba(0, 0, 0, 0.45);\n      line-height: 22px;\n    }\n}\n\n.update-box {\n    display: flex;\n    align-items: center;\n\n    .btn-update {\n        color: #595959;\n\n        &:hover, &:hover .update-icon{\n            color: #4096ff;\n        }\n\n    }\n}\n\n.qunfa-box {\n  margin-bottom: 0;\n  padding: 2px 8px;\n}\n\n.qunfa {\n  font-size: 12px;\n  width: 250px;\n}\n\n.qunfa_name {\n  font-size: 13px;\n  font-family: PingFangSC-Medium, PingFang SC;\n  font-weight: 500;\n  color: rgba(0, 0, 0, 0.65);\n  margin-right: 6px;\n}\n\n.tages_wid {\n  display: inline-block;\n  // width: 400px;\n\n  // span {\n    // margin-bottom: 8px;\n  // }\n}\n\n.margin-bottom-16 {\n  margin-bottom: 16px;\n}\n\n.nowrap{\n  white-space: nowrap;\n}\n\n.flex {\n    display: flex;\n    align-items: center;\n}\n</style>\n\n<style lang=\"less\">\n.user-info-tooltip .ant-tooltip-inner {\n    width: max-content;\n}\n</style>\n","import script from \"./index.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=44756889&scoped=true&lang=less\"\nimport \"./index.vue?vue&type=style&index=1&id=44756889&lang=less\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-44756889\"]])\n\nexport default __exports__"],"names":["RedoOutlined","_objectSpread","target","i","arguments","length","source","Object","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","key","_defineProperty","obj","value","defineProperty","configurable","writable","props","context","p","attrs","_createVNode","AntdIcon","RedoOutlinedSvg","displayName","inheritAttrs","syncDepartmentStaff","request","get","departmentList","staffList","data","params","groupsList","groupsSync","customersList","customersSync","searchForm","reactive","size","page","name","member_name","tagNames","remark_yes","sort","normal_status","filterTagParams","type","contain_tag","contain_tag_keys","contain_tag_map","exclude_tag","exclude_tag_map","columns","dataIndex","title","scopedSlots","customRender","fixed","width","last_sync_time","ref","dataShowType","createGroupDates","loading","list","pagination","total","current","pageSize","showSizeChanger","pageSizeOptions","filterData","keyword","totals","updateLoading","has_search_flag","staff_ids","timeContrast","time","new_time","parseInt","Date","getTime","result","diffTime","dataTypeChange","search","textLimit","text","max","substring","refresh","Update","then","res","message","success","onMounted","loadData","lastGetTime","initSearch","resetSearch","trim","add_time","dayjs","subtract","format","items","Number","finally","tableChange","__exports__"],"sourceRoot":""}