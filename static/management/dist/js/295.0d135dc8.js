"use strict";(self["webpackChunkzmwk_session_archive"]=self["webpackChunkzmwk_session_archive"]||[]).push([[295],{1241:function(e,a){a.A=(e,a)=>{const n=e.__vccOpts||e;for(const[t,o]of a)n[t]=o;return n}},8292:function(e,a,n){n.d(a,{A:function(){return c}});var t=n(6768);const o={class:"loading-box"};function i(e,a){const n=(0,t.g2)("a-spin");return(0,t.uX)(),(0,t.CE)("div",o,[(0,t.bF)(n)])}var l=n(1241);const s={},r=(0,l.A)(s,[["render",i],["__scopeId","data-v-3d53ffb8"]]);var c=r},4935:function(e,a,n){n.d(a,{A:function(){return r}});var t=n(6768);const o={id:"_footer",class:"_main-footer normal hide"};var i={__name:"mainFooter",setup(e){function a(){const e=document.body.scrollHeight,a=window.innerHeight,n=document.getElementById("_footer");n&&(e>a?n.classList.add("normal"):n.classList.remove("normal"))}return(0,t.sV)((()=>{window.addEventListener("load",a),window.addEventListener("resize",a),setTimeout((()=>{a(),document.getElementById("_footer").classList.remove("hide")}),1e3)})),(e,a)=>((0,t.uX)(),(0,t.CE)("div",o,a[0]||(a[0]=[(0,t.Lk)("div",{class:"copyright"},"Copyright © 2021, 芝麻小事网络科技（武汉）有限公司",-1)])))}},l=n(1241);const s=(0,l.A)(i,[["__scopeId","data-v-6e41ce21"]]);var r=s},1034:function(e,a,n){n.d(a,{A:function(){return y}});var t=n(6768),o=n(4232),i=n(144),l=n.p+"img/logo.bfba7370.png",s=n(7767),r=n(782),c=n(9804),d=n(7694),m=n(5389),u=n(8298);const _={class:"right-header-nav"},v={key:0,class:"my-shadow"},f={key:0,class:"menus-box"},p={class:"user-info-box"},A={class:"ml4"};var g={__name:"mainHeader",props:{background:String,showMenus:{type:Boolean,default:!1}},setup(e){const a=e,n=(0,r.Pj)(),g=(0,t.EW)((()=>n.getters.getUserInfo)),b=(0,t.EW)((()=>({background:a.background}))),k=()=>{c.A.confirm({title:"提示",content:"确认退出当前登录账户？",onOk:()=>{d.Ay.loading("正在退出..."),setTimeout((()=>{d.Ay.destroy(),(0,u.Hr)()}),1e3)}})};return(a,n)=>{const r=(0,t.g2)("a-menu-item"),c=(0,t.g2)("a-menu"),d=(0,t.g2)("a-dropdown");return(0,t.uX)(),(0,t.CE)("div",{class:"_main-header",style:(0,o.Tr)(b.value)},[n[3]||(n[3]=(0,t.Lk)("div",{class:"logo-box"},[(0,t.Lk)("img",{src:l,class:"logo"})],-1)),(0,t.Lk)("div",_,[e.showMenus?((0,t.uX)(),(0,t.CE)("div",v)):(0,t.Q3)("",!0),(0,t.Lk)("div",null,[e.showMenus?((0,t.uX)(),(0,t.CE)("div",f,n[0]||(n[0]=[(0,t.Lk)("div",{class:"menu-item active"},"会话质检",-1)]))):(0,t.Q3)("",!0)]),g.value.id>0?((0,t.uX)(),(0,t.Wv)(d,{key:1},{overlay:(0,t.k6)((()=>[(0,t.bF)(c,null,{default:(0,t.k6)((()=>[(0,t.bF)(r),(0,t.bF)(r,null,{default:(0,t.k6)((()=>[(0,t.Lk)("div",{class:"text-center",onClick:k},n[2]||(n[2]=[(0,t.Lk)("a",null,"退出登录",-1)]))])),_:1}),(0,t.bF)(r)])),_:1})])),default:(0,t.k6)((()=>[(0,t.Lk)("div",p,[n[1]||(n[1]=(0,t.Lk)("img",{src:s,class:"avatar"},null,-1)),(0,t.Lk)("span",A,(0,o.v_)(g.value.userid),1),(0,t.bF)((0,i.R1)(m.A),{class:"ml4"})])])),_:1})):(0,t.Q3)("",!0)])],4)}}},b=n(1241);const k=(0,b.A)(g,[["__scopeId","data-v-5be8bb28"]]);var y=k},7815:function(e,a,n){n.r(a),n.d(a,{default:function(){return h}});n(4114);var t=n(6768),o=n(144),i=n(1387),l=n(1034),s=n(4935),r=n(7403),c=n(1824);const d={class:"main-content"},m={class:"mt24"},u={key:0,class:"mt4 zm-flex-center"},_={class:"text-center"};var v={__name:"corpBaseFrom",setup(e){const a=(0,i.rd)(),{proxy:n}=(0,t.nI)(),l=(0,o.KR)(!1),s=(0,o.KR)(!1),v=(0,o.KR)(!1),f=(0,o.Kh)({corp_id:"",agent_id:"",secret:"",verify_domain_file_name:"",verify_domain_file_content:""}),p=(0,o.Kh)({verify_domain_file_name:"",verify_domain_file_content:""}),A={corp_id:"请输入企业ID",agent_id:"请输入应用AgentId",secret:"请输入应用密钥",verify_domain_file_name:"请上传验证文件",verify_domain_file_content:"请上传验证文件"},g=()=>{if(f.verify_domain_file_name=f.verify_domain_file_name.trim(),f.verify_domain_file_content=f.verify_domain_file_content.trim(),!f.verify_domain_file_name)return n.$message.error("请输入文件名");const e=/^[\w,\s-]+\.txt$/;return e.test(f.verify_domain_file_name)?f.verify_domain_file_content?(p.verify_domain_file_name=f.verify_domain_file_name,p.verify_domain_file_content=f.verify_domain_file_content,v.value=!0,void(l.value=!1)):n.$message.error("请输入文件内容"):n.$message.error("请输入正确的txt文件名")},b=()=>{f.verify_domain_file_name=p.verify_domain_file_name,f.verify_domain_file_content=p.verify_domain_file_content,l.value=!1},k=()=>{try{s.value=!0;for(let a in f)if(f[a]=f[a].trim(),!f[a])throw A[a];let e=Number(f.agent_id);(0,c.C9)({...f,agent_id:e}).then((e=>{n.$message.success("保存完成，请登录！"),setTimeout((()=>{a.push({path:"/login"})}),1200)})).finally((()=>{s.value=!1}))}catch(e){s.value=!1,n.$message.error(e)}};return(e,a)=>{const n=(0,t.g2)("a-input"),i=(0,t.g2)("a-form-item"),c=(0,t.g2)("a-button"),p=(0,t.g2)("a-form"),A=(0,t.g2)("a-modal");return(0,t.uX)(),(0,t.CE)("div",d,[a[13]||(a[13]=(0,t.Lk)("div",{class:"title"},[(0,t.eW)("请先按照步骤完成自建应用的创建与配置并获取对应的信息填写到此处 "),(0,t.Lk)("a",{class:"ml16",href:"http://zhimahuihua.com/docs/integration/",target:"_blank"},"如何配置?")],-1)),(0,t.Lk)("div",m,[(0,t.bF)(p,{model:f,name:"basic","label-col":{span:6},"wrapper-col":{span:14},autocomplete:"off"},{default:(0,t.k6)((()=>[(0,t.bF)(i,{label:"企业ID",name:"corp_id"},{default:(0,t.k6)((()=>[(0,t.bF)(n,{value:f.corp_id,"onUpdate:value":a[0]||(a[0]=e=>f.corp_id=e),placeholder:"请输入企业ID"},null,8,["value"])])),_:1}),(0,t.bF)(i,{label:"自建应用AgentId",name:"agent_id"},{default:(0,t.k6)((()=>[(0,t.bF)(n,{value:f.agent_id,"onUpdate:value":a[1]||(a[1]=e=>f.agent_id=e),placeholder:"请输入应用AgentId"},null,8,["value"])])),_:1}),(0,t.bF)(i,{label:"自建应用密钥",name:"secret"},{default:(0,t.k6)((()=>[(0,t.bF)(n,{value:f.secret,"onUpdate:value":a[2]||(a[2]=e=>f.secret=e),placeholder:"请输入应用密钥"},null,8,["value"])])),_:1}),(0,t.bF)(i,{label:"可信域名文件验证",name:"corp_id"},{default:(0,t.k6)((()=>[(0,t.bF)(c,{type:"dashed",onClick:a[3]||(a[3]=e=>l.value=!0)},{default:(0,t.k6)((()=>a[7]||(a[7]=[(0,t.eW)("上传验证文件")]))),_:1}),v.value?((0,t.uX)(),(0,t.CE)("div",u,[a[8]||(a[8]=(0,t.eW)("已上传 ")),(0,t.bF)((0,o.R1)(r.A),{class:"ml4",style:{color:"#2EC77C"}})])):(0,t.Q3)("",!0),a[9]||(a[9]=(0,t.Lk)("div",{class:"zm-tip-info mt4"}," 配置自建应用网页授权及JS—SDK的可信域名需完成域名归属认证，验证文件上传成功后，请在企微后台添加可信域名。 ",-1))])),_:1}),(0,t.Lk)("div",_,[(0,t.bF)(c,{type:"primary",class:"main-btn",loading:s.value,onClick:k},{default:(0,t.k6)((()=>a[10]||(a[10]=[(0,t.eW)("确 认")]))),_:1},8,["loading"])])])),_:1},8,["model"])]),(0,t.bF)(A,{open:l.value,"onUpdate:open":a[6]||(a[6]=e=>l.value=e),onOk:g,onCancel:b,width:"600px"},{title:(0,t.k6)((()=>a[11]||(a[11]=[(0,t.eW)(" 上传验证文件"),(0,t.Lk)("span",{class:"zm-tip-info ml4"},"辅助信息",-1)]))),default:(0,t.k6)((()=>[(0,t.bF)(p,{model:f,name:"basic","label-col":{span:4},"wrapper-col":{span:20},autocomplete:"off"},{default:(0,t.k6)((()=>[(0,t.bF)(i,{label:"文件名",name:"file_name"},{default:(0,t.k6)((()=>[(0,t.bF)(n,{value:f.verify_domain_file_name,"onUpdate:value":a[4]||(a[4]=e=>f.verify_domain_file_name=e),placeholder:"请输入文件名"},null,8,["value"]),a[12]||(a[12]=(0,t.Lk)("div",{class:"zm-tip-info mt4"},"文件名WW_verify_开头，如：WW_verify_LSAreRXXX.txt（含文件后缀）",-1))])),_:1}),(0,t.bF)(i,{label:"文件内容",name:"corp_id"},{default:(0,t.k6)((()=>[(0,t.bF)(n,{value:f.verify_domain_file_content,"onUpdate:value":a[5]||(a[5]=e=>f.verify_domain_file_content=e),placeholder:"请输入文件内容"},null,8,["value"])])),_:1})])),_:1},8,["model"])])),_:1},8,["open"])])}}},f=n(1241);const p=(0,f.A)(v,[["__scopeId","data-v-17117208"]]);var A=p,g=n(8292);const b={class:"_main-container"};var k={__name:"index",setup(e){const{proxy:a}=(0,t.nI)(),n=(0,i.rd)(),r=(0,o.KR)(!0);return(0,t.sV)((()=>{(0,c.hY)().then((e=>{e?.data?.init&&(a.$message.success("已有企业，去登陆"),setTimeout((()=>{n.push({path:"/login"})}),1e3)),r.value=!1})).catch((()=>{r.value=!1}))})),(e,a)=>((0,t.uX)(),(0,t.CE)("div",b,[(0,t.bF)(l.A),r.value?((0,t.uX)(),(0,t.Wv)(g.A,{key:0})):((0,t.uX)(),(0,t.Wv)(A,{key:1})),(0,t.bF)(s.A)]))}};const y=(0,f.A)(k,[["__scopeId","data-v-63d13fcb"]]);var h=y},7767:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAA/tJREFUaEPtmk9slEUUwH/v6y5tFVpNgVBppSghYsVIqBFMTIxWapp4oD0RNfHmSSIHT8YT9mRiI568mZhIPLQk1aBgSbyBAmIIBaKEFi1UKaZxqdDt7n7PvG9dUpXdnV1m20/jO33ZfTPzfvNm5r35IyyQfQe1/rccz4qGPUAv0A7UL9RZgu8sMClwgCA8tCJIfLW7V9IFO6TwMfCFtobpcI8IrwJNS2CoS5PTqnwYZIPBN/tlygpEAJHx8zok6HaXWpZaR5GjQUb6DUKiYZMJ94rwxlIbVkn7qrzTnAzekoHPMj0aBh8BqyqpIAa6KZVglwyM5N5V2BMDg6oxYZ+8PZIbBzqqKR2DMhcMIAMkYmBMNSakDUCrKRmXMv8DFPPEsgQ0JPP/zmdhzgZqDcS7B+oTsOk+4aHWvwKcnoRzV5Rc6JfCK0BTA+zsCmi79/ZGTs7AgZMhqZv+ILwB3LUMujuFzW230qvbWjl2WRk9q8zO+YHwBrC1Q3iuU6gLShsWKhw5q3xz0c/i5w1g1zbhgVWle7+ANn5N+fhozABe6w5oanQbFjfSMHjYz2z25oHXdwTc7bj1sUn8/mjMAF7cLnSsdBtCF6eV/cdiNoSeeFB4ZpMQlGHIhjA6ppyciBnA8gbofljoXFua4Myk8uWYcmPebb6U0/I2B6whC2R9XQFriwSyyzMwHNdAVugpiwMb1wiPtkNjMr/pvpmB81P5VCJtZwwexasHFtqVrPsTQPIAltDVQmoGYNmoecM8YAmc754vdIY3AFt91jQTLaUrV4DlRhGA5AEs95n5HS5cVaav53/zIXcM0HoPbFgtPLZOoknsIqk5ODWhfP+LcjXlUqK4TtUANsYt739qo9DcmO/pSsSSOvPI8XHlux+r3ydUBWA9/cKWgPtbKBu4XKAu/Qojp6rbJ1QMYMZb3m+971POTWkUoSvd7FQEYJPypSeL77juFMg88cnXIZmce00VAdim5fnNfnv+76Z+fjrk20s1AFjdBH1bA1qWu1dejea1WRg+EUZLrYs4e+Dx9RKN/XLZpkujpXQsPthcOOGYrToD9HfZUUlth08B7PzPytBxt3TbGWDHI4J5YTHEYsPhM54BbPncsk5ob6kdgipcmckHt9lbt2Cl23P2gFVj479wXFgLDAOwpM+itKtUBOBa6WLq/ScA7JDP8UBkMfvWqa2seeAHYIOTevyUJgzgPWB3/Gwrb5HAoOz9VHtFw/0xvp0vRjItQfjyv/+i2/AGhrRVk7lhkG3lHRcHDT0mmbq+6KlBwRyDCBPRY49XYnxrn1Llg3889ihA2LuJ6/PZpwmCHoWdQFsM7pAtqfgJwoMqiUPNdRxZ+NzmD26ItxWYaSgLAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=295.0d135dc8.js.map